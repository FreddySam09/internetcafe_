{% extends 'base.html' %}

{% block title %}Educational Help{% endblock %}

{% block content %}
<div class="card">
  <div class="card-header">
    <h2>Educational Help</h2>
  </div>
  <div class="card-body">
    <div class="mb-3">
      <h4>Post Your Doubt:</h4>
      <form method="POST">
        <div class="form-group">
          <textarea class="form-control" name="doubt" rows="3" placeholder="Type your doubt here"></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Post Doubt</button>
      </form>
    </div>
    <hr>
    <h4>Doubts and Replies:</h4>
    <ul class="list-group">
      {% for doubt in doubts %}
      <li class="list-group-item">
        <p><strong>{{ doubt.text }}</strong></p>
        <ul class="list-unstyled">
          {% for reply in doubt.replies %}
          <li>{{ reply.text }}</li>
          {% endfor %}
        </ul>
        <form method="POST">
          <div class="form-group">
            <textarea class="form-control" name="{{ doubt.id }}" rows="2" placeholder="Reply to this doubt"></textarea>
          </div>
          <button type="submit" class="btn btn-primary btn-sm">Reply</button>
        </form>
      </li>
      {% endfor %}
    </ul>
  </div>
</div>
{% endblock %}
